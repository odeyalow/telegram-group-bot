# Telegram Group Bot

Бот для Telegram-групп на `aiogram` с настройками по каждой группе:
- включение/выключение функций
- реакция на слова `модер/модератор`
- анонимные сообщения через уникальную ссылку

## Быстрый старт

```bash
python -m venv .venv
.venv\Scripts\activate
pip install -r requirements.txt
python -m bot.main
```

## Настройки окружения

Файл `.env`:

```env
BOT_TOKEN=your_telegram_bot_token
BOT_DB_PATH=bot.db
OLLAMA_BASE_URL=http://127.0.0.1:11434
OLLAMA_MODEL=qwen2.5:7b
AI_MAX_TOKENS=32
AI_TIMEOUT_SECONDS=45
```

## Локальный ИИ (бесплатно)

Используется локальный `Ollama` без платного API.

1. Установи Ollama на сервер.
2. Загрузи модель:

```bash
ollama pull qwen2.5:7b
```

3. Запусти сервис Ollama (обычно стартует автоматически).
4. В группе команды для админов:
   - `/ai_on`
   - `/ai_off`
   - `/ai_style @username`
   - `/ai_status`

Триггеры ИИ:
- `алдик ии <текст>`
- реплай на сообщение бота

## Команды в группе

- `/help` - мнау крч тупойларга
- `/group_info` - осы группанын анау мынауысын корстет
- `/bot_on` - мены косад крч
- `/bot_off` - мены ошред крч, но ошрмеш пж умаляю
- `/anon_on` - анон сообтарды косады крч
- `/anon_off` - анон сообтарды ошред
- `/anon_link` - анонга жазу ушын ссылка берем

## Личные команды

- `/help`

## Что делает бот

- При добавлении в группу отправляет приветственный текст.
- При словах `модер/модератор` отправляет: `КТО-ТО СКАЗАЛ МОДЕРАТОР?`.
- По анонимной ссылке пользователь переходит в личку бота и отправляет сообщение в связанную группу.
